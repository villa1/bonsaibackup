
<div>
  {{ $featuredPost := where .Pages ".Params.featured" true | first 1 }}
  {{ $regularPosts := where .Pages ".Params.featured" "!=" true }}
  
  <!-- Featured Post -->
  {{ range $featuredPost }}
    <div class="mt-12 featured-post">
      <div class="relative rounded-xl overflow-hidden">
        <img 
          src="{{ .Params.image }}" 
          alt="{{ .Title }}"
          class="w-full h-[500px] object-cover"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-8">
          <span class="bg-bonsai-olive text-white text-xs uppercase font-bold px-3 py-1 rounded-full mb-4 inline-block">
            {{ .Params.category }}
          </span>
          <h2 class="text-3xl md:text-4xl font-playfair font-bold text-white">{{ .Title }}</h2>
          <p class="text-white/90 mt-2 max-w-2xl">{{ .Summary }}</p>
          
          <div class="flex items-center mt-4 text-white/80">
            <span class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><circle cx="12" cy="12" r="10"></circle><path d="M16 12h-4V8"></path></svg>
              {{ .Params.author }}
            </span>
            <span class="mx-3">•</span>
            <span class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
              {{ .Date.Format "January 2, 2006" }}
            </span>
            <span class="mx-3">•</span>
            <span class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
              {{ .Params.readTime }}
            </span>
          </div>
          
          <a href="{{ .RelPermalink }}" class="mt-6 inline-flex items-center bg-white text-bonsai-dark-green px-4 py-2 rounded-md font-medium hover:bg-bonsai-olive hover:text-white transition-colors">
            Read Full Article
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
          </a>
        </div>
      </div>
    </div>
  {{ end }}
  
  <!-- Category Filters -->
  <div class="mt-12 flex flex-wrap gap-2 category-filter">
    <button 
      class="px-4 py-2 bg-bonsai-dark-green text-white rounded-md transition-colors"
      data-category="all"
    >
      All Posts
    </button>
    
    {{ $categories := slice }}
    {{ range .Pages }}
      {{ $categories = $categories | append .Params.category }}
    {{ end }}
    
    {{ range uniq $categories }}
      <button 
        class="px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-md transition-colors"
        data-category="{{ . }}"
      >
        {{ . }}
      </button>
    {{ end }}
  </div>
  
  <!-- Blog Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
    {{ range $regularPosts }}
      <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow blog-post" data-category="{{ .Params.category }}">
        <div class="h-48 overflow-hidden">
          <img 
            src="{{ .Params.image }}" 
            alt="{{ .Title }}"
            class="w-full h-full object-cover hover:scale-105 transition-transform duration-500"
          />
        </div>
        
        <div class="p-6">
          <span class="bg-bonsai-beige text-bonsai-dark-green text-xs uppercase font-bold px-2 py-1 rounded-full mb-2 inline-block">
            {{ .Params.category }}
          </span>
          <h3 class="font-playfair font-bold text-xl text-bonsai-dark-green">{{ .Title }}</h3>
          <p class="text-gray-600 mt-2 line-clamp-3">{{ .Summary }}</p>
          
          <div class="flex items-center mt-4 text-gray-500 text-sm">
            <span class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><circle cx="12" cy="12" r="10"></circle><path d="M16 12h-4V8"></path></svg>
              {{ .Params.author }}
            </span>
            <span class="mx-2">•</span>
            <span class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
              {{ .Params.readTime }}
            </span>
          </div>
          
          <a 
            href="{{ .RelPermalink }}" 
            class="mt-4 inline-flex items-center text-bonsai-olive hover:text-bonsai-dark-green font-medium"
          >
            Read More
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-1"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
          </a>
        </div>
      </div>
    {{ end }}
  </div>
  
  <!-- Newsletter Signup -->
  <div class="mt-16 bg-bonsai-beige/30 rounded-lg p-8">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-2xl font-playfair font-bold text-bonsai-dark-green text-center mb-4">
        Subscribe to Our Newsletter
      </h2>
      <p class="text-gray-700 text-center mb-6">
        Get our latest articles, care guides, and expert advice delivered directly to your inbox
      </p>
      <form class="flex flex-col sm:flex-row gap-3 newsletter-form">
        <input 
          type="email" 
          placeholder="Your email address" 
          class="flex-grow px-4 py-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-bonsai-olive/50"
          required
        />
        <button type="submit" class="bg-bonsai-dark-green text-white px-6 py-3 rounded-md hover:bg-bonsai-olive transition-colors">
          Subscribe
        </button>
      </form>
      <p class="text-xs text-gray-500 mt-3 text-center">
        We respect your privacy. Unsubscribe at any time.
      </p>
    </div>
  </div>
</div>
